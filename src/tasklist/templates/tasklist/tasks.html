{% extends "tasklist/list-base.html" %}

{% block title %}Tasks{% endblock %}
{% block page_title %}{{ tasklist }}{% endblock %}

{% block nav %}
    <div class="button add_task">
        <span style="line-height: 2em;"><img src="{{ MEDIA_URL }}images/add.png" alt="add task"> Add Task</span>
    </div>
{% endblock %}

{% block content %}
<ul>
    <li class="task_form hidden">
        <form action="{{ tasklist.get_add_task_url }}" method="post">{% csrf_token %}
            <fieldset>
                <input type="text" name="description" />
                <input type="submit" value="add" />
            </fieldset>
        </form>
    </li>
    {% for task in tasks %}
        <li id="{{ task.id }}" class="task_item{% if task.status == 1 %} completed{% endif %}">{{ task }}</li>
    {% empty %}
        <li>No Tasks Yet...</li>
    {% endfor %}
</ul>
<form action="{% url tasklist:clear_completed %}" method="post">{% csrf_token %}
    <p class="center">
        <input type="hidden" name="tasklist_id" value="{{ tasklist.id }}" />
        <input type="submit" value="clear completed" />
    </p>
</form>


{% endblock %}

{% block scripts %}
    {% include "tasklist/js/tasklist.js" %}
{% endblock %}
